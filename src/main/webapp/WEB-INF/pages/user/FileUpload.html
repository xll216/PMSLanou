<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>文件上传控件（FLASH）</title>
    <link href="../../../static/miniuis/demo.css" rel="stylesheet" type="text/css"/>

    <style type="text/css">
        body {
            margin: 0;
            padding: 0;
            border: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
    </style>

</head>
<body>
<form id="upload" action="/user/fileUpload" method="post" enctype="multipart/form-data">
    图片：<input class="mini-htmlfile" name="Fdata" limitType="*.png"/>
    <!--<input name="a"-->
    <!--value='{"primeUserDesc":"蓝鸥测试数据","projType":"cb01,cb03","rightDesc":"蓝鸥测试数据","benefitsDesc":"蓝鸥测试数据","fixedAssets":"蓝鸥测试数据","acceptStand":"蓝鸥测试数据","projFile":"C:\\fakepath\\idea.png","staffNo":"李四"}'/>-->

    <!--<input type="text" name="b" value="true"/>-->
    <button onclick="ajaxload()">commit</button>

</form>

<!--引入的js-->
<script src="../../../static/miniuis/boot.js" type="text/javascript"></script>
<script src="../../../static/js/ajaxfileupload.js" type="text/javascript"></script>
<!--end-->
<script type="text/javascript">
    mini.parse();

    function ajaxFileUpload() {

        var inputFile = $("#file1 > input:file")[0];

        console.log(inputFile);

        $.ajaxFileUpload({
            url: '/user/fileUpload',                 //用于文件上传的服务器端请求地址
            fileElementId: "inputFile",               //文件上传域的ID
            dataType: 'text',                   //返回值类型 一般设置为json
            success: function (data, status)    //服务器成功响应处理函数
            {
                alert("上传成功: " + data);

            },
            error: function (data, status, e)   //服务器响应失败处理函数
            {
                alert(e);
            },
            complete: function () {
                var jq = $("#file1 > input:file");
                jq.before(inputFile);
                jq.remove();
            }
        });
    }

</script>


</body>
</html>